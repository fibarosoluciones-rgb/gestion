<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F√≠baro | Panel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="auth-layout app-layout">
        <section id="role-dashboard" class="role-dashboard" hidden>
            <aside class="dashboard-sidebar">
                <div class="sidebar-brand">
                    <div class="logo" aria-hidden="true">F</div>
                    <div class="sidebar-brand-text">
                        <p class="brand-name">F√çBARO</p>
                        <p class="brand-tagline">Panel interno</p>
                    </div>
                </div>
                <div class="sidebar-profile">
                    <div class="sidebar-avatar">
                        <img id="profile-button-image" src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=96&q=80" alt="Foto del perfil activo" loading="lazy">
                    </div>
                    <div class="sidebar-profile-text">
                        <p id="sidebar-name" class="sidebar-name">Usuario activo</p>
                        <p id="sidebar-role" class="sidebar-role">Rol asignado</p>
                    </div>
                    <button id="profile-button" type="button" class="ghost-button sidebar-profile-button">Ver y editar perfil</button>
                </div>
                <div class="sidebar-navigation" id="god-view-switch" role="tablist" aria-label="Vistas de administraci√≥n" hidden>
                    <h2>Modo Dios</h2>
                    <button type="button" role="tab" data-view="agenda" aria-selected="true">
                        <span class="nav-title">Agenda inteligente</span>
                        <span class="nav-description">Gestiona recordatorios personales y compartidos.</span>
                    </button>
                    <button type="button" role="tab" data-view="departments" aria-selected="false">
                        <span class="nav-title">Departamentos</span>
                        <span class="nav-description">Revisa la informaci√≥n y m√©tricas clave.</span>
                    </button>
                    <button type="button" role="tab" data-view="users" aria-selected="false">
                        <span class="nav-title">Usuarios</span>
                        <span class="nav-description">Controla accesos, permisos y cuentas.</span>
                    </button>
                    <button type="button" role="tab" data-view="profile" aria-selected="false">
                        <span class="nav-title">Mis datos</span>
                        <span class="nav-description">Actualiza tu informaci√≥n personal.</span>
                    </button>
                </div>
                <div class="sidebar-quick">
                    <h2>Accesos r√°pidos</h2>
                    <ul>
                        <li>üìÖ Pr√≥xima reuni√≥n general</li>
                        <li>üõ†Ô∏è Revisar mantenimiento</li>
                        <li>üßæ Facturas por aprobar</li>
                    </ul>
                </div>
                <button id="logout-button" type="button" class="secondary-button sidebar-logout">Cerrar sesi√≥n</button>
            </aside>

            <div class="dashboard-content">
                <header class="dashboard-header">
                    <div>
                        <p class="welcome-subtitle">Panel de control</p>
                        <h1 class="welcome-title">Organiza, supervisa y toma decisiones</h1>
                    </div>
                    <div class="dashboard-highlights">
                        <article class="highlight-card">
                            <h2>Notificaciones</h2>
                            <p id="highlight-notes">Sin novedades urgentes</p>
                        </article>
                        <article class="highlight-card">
                            <h2>√öltimo acceso</h2>
                            <p id="highlight-last-login">Sin registros</p>
                        </article>
                        <article class="highlight-card">
                            <h2>Tareas activas</h2>
                            <p id="highlight-active-tasks">Sin tareas pendientes</p>
                        </article>
                    </div>
                </header>

                <section id="profile-panel" class="profile-panel god-panel" hidden aria-labelledby="profile-panel-title">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <img id="profile-avatar-image" src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=96&q=80" alt="Foto de perfil" loading="lazy">
                        </div>
                    <div class="profile-summary">
                        <h2 id="profile-panel-title">Mis datos personales</h2>
                        <p id="profile-role" class="profile-role"></p>
                        <button id="edit-profile-button" type="button" class="secondary-button">Editar perfil</button>
                    </div>
                </div>

                <div class="avatar-dropzone" id="avatar-dropzone" tabindex="0" role="button" aria-label="Actualizar foto de perfil">
                    <input id="avatar-input" type="file" accept="image/*" hidden>
                    <p class="avatar-dropzone-title">Actualiza tu foto</p>
                    <p class="avatar-dropzone-hint">Arrastra una imagen aqu√≠ o selecci√≥nala desde tu galer√≠a.</p>
                    <button id="avatar-select-button" type="button" class="ghost-button">Elegir desde la galer√≠a</button>
                </div>

                <div class="profile-personal-footer">
                    <dl id="profile-data-view" class="profile-details">
                        <div>
                            <dt>Nombre</dt>
                            <dd id="profile-name">Alexandra Rivera</dd>
                        </div>
                        <div>
                            <dt>Correo</dt>
                            <dd id="profile-email">alexandra.rivera@fibaro.com</dd>
                        </div>
                        <div>
                            <dt>Tel√©fono</dt>
                            <dd id="profile-phone">+34 600 123 456</dd>
                        </div>
                        <div>
                            <dt>√öltimo acceso</dt>
                            <dd id="profile-last-login"></dd>
                        </div>
                    </dl>

                    <form id="profile-edit-form" class="profile-edit-form" hidden novalidate>
                        <div class="profile-edit-grid">
                            <label class="form-field" for="profile-name-input">
                                <span>Nombre</span>
                                <input id="profile-name-input" name="name" type="text" autocomplete="name" readonly aria-readonly="true">
                            </label>
                            <label class="form-field" for="profile-email-input">
                                <span>Correo</span>
                                <input id="profile-email-input" name="email" type="email" autocomplete="email" required>
                            </label>
                            <label class="form-field" for="profile-phone-input">
                                <span>Tel√©fono</span>
                                <input id="profile-phone-input" name="phone" type="tel" autocomplete="tel" placeholder="+34 600 123 456">
                            </label>
                        </div>

                        <div class="profile-password-section" aria-describedby="profile-password-feedback">
                            <h3>Seguridad</h3>
                            <p class="section-hint">Actualiza tu contrase√±a personal cuando lo necesites.</p>
                            <div class="profile-password-grid">
                                <label class="form-field" for="profile-current-password-input">
                                    <span>Contrase√±a actual</span>
                                    <input id="profile-current-password-input" name="current-password" type="password" autocomplete="current-password">
                                </label>
                                <label class="form-field" for="profile-new-password-input">
                                    <span>Nueva contrase√±a</span>
                                    <input id="profile-new-password-input" name="new-password" type="password" autocomplete="new-password" minlength="6">
                                </label>
                                <label class="form-field" for="profile-confirm-password-input">
                                    <span>Repite la nueva contrase√±a</span>
                                    <input id="profile-confirm-password-input" name="confirm-password" type="password" autocomplete="new-password" minlength="6">
                                </label>
                            </div>
                            <p id="profile-password-feedback" class="feedback" role="status" aria-live="polite"></p>
                        </div>

                        <p class="profile-last-login-note">√öltimo acceso: <span id="profile-last-login-static"></span></p>
                        <div class="profile-edit-actions">
                            <button id="cancel-edit-button" type="button" class="ghost-button">Cancelar</button>
                            <button id="save-profile-button" type="submit" class="primary-button">Guardar cambios</button>
                        </div>
                    </form>
                </div>
            </section>

                <section id="god-dashboard" class="god-dashboard" hidden>
                    <section id="god-agenda-view" class="god-panel god-agenda" hidden aria-live="polite">
                        <header class="panel-header">
                            <h2>Agenda inteligente</h2>
                            <p>Divide tu tiempo entre prioridades personales y tareas del equipo.</p>
                        </header>
                        <div class="agenda-grid">
                            <article class="agenda-card">
                                <header>
                                    <h3>Mi agenda</h3>
                                    <p>Organiza tus tareas y recordatorios personales del d√≠a.</p>
                                </header>
                                <form id="personal-agenda-form" class="agenda-form" novalidate>
                                    <label class="form-field" for="personal-agenda-title">
                                        <span>T√≠tulo</span>
                                        <input id="personal-agenda-title" name="title" type="text" required placeholder="Reuni√≥n de seguimiento">
                                    </label>
                                    <label class="form-field" for="personal-agenda-description">
                                        <span>Descripci√≥n</span>
                                        <textarea id="personal-agenda-description" name="description" rows="3" placeholder="Anota detalles o puntos clave"></textarea>
                                    </label>
                                    <div class="agenda-form-grid">
                                        <label class="form-field" for="personal-agenda-date">
                                            <span>Fecha</span>
                                            <input id="personal-agenda-date" name="date" type="date" required>
                                        </label>
                                        <label class="form-field" for="personal-agenda-time">
                                            <span>Hora</span>
                                            <input id="personal-agenda-time" name="time" type="time">
                                        </label>
                                        <label class="form-field" for="personal-agenda-duration">
                                            <span>Duraci√≥n</span>
                                            <input id="personal-agenda-duration" name="duration" type="text" placeholder="ej. 1h 30m">
                                        </label>
                                    </div>
                                    <button type="submit" class="primary-button">A√±adir a mi agenda</button>
                                    <p id="personal-agenda-feedback" class="feedback" role="status" aria-live="polite"></p>
                                </form>
                                <p id="personal-agenda-empty" class="agenda-empty">A√∫n no tienes recordatorios. Empieza creando uno.</p>
                                <ul id="personal-agenda-list" class="agenda-list" hidden></ul>
                            </article>

                            <article class="agenda-card">
                                <header>
                                    <h3>Agenda del equipo</h3>
                                    <p>Comparte recordatorios con uno, varios o todos los usuarios.</p>
                                </header>
                                <form id="team-agenda-form" class="agenda-form" novalidate>
                                    <label class="form-field" for="team-agenda-title">
                                        <span>T√≠tulo</span>
                                        <input id="team-agenda-title" name="title" type="text" required placeholder="Agendar revisi√≥n de proyecto">
                                    </label>
                                    <label class="form-field" for="team-agenda-description">
                                        <span>Descripci√≥n</span>
                                        <textarea id="team-agenda-description" name="description" rows="3" placeholder="Incluye los puntos del encuentro"></textarea>
                                    </label>
                                    <div class="agenda-form-grid">
                                        <label class="form-field" for="team-agenda-date">
                                            <span>Fecha</span>
                                            <input id="team-agenda-date" name="date" type="date" required>
                                        </label>
                                        <label class="form-field" for="team-agenda-time">
                                            <span>Hora</span>
                                            <input id="team-agenda-time" name="time" type="time">
                                        </label>
                                        <label class="form-field" for="team-agenda-duration">
                                            <span>Duraci√≥n</span>
                                            <input id="team-agenda-duration" name="duration" type="text" placeholder="ej. 45 minutos">
                                        </label>
                                    </div>
                                    <fieldset class="agenda-recipient-fieldset">
                                        <legend>Asignar a</legend>
                                        <div id="team-agenda-user-list" class="agenda-recipient-list" role="group" aria-label="Usuarios disponibles"></div>
                                    </fieldset>
                                    <button type="submit" class="primary-button">Crear anotaci√≥n para el equipo</button>
                                    <p id="team-agenda-feedback" class="feedback" role="status" aria-live="polite"></p>
                                </form>
                                <p id="team-agenda-empty" class="agenda-empty">A√∫n no hay anotaciones compartidas.</p>
                                <ul id="team-agenda-list" class="agenda-list" hidden></ul>
                            </article>
                        </div>
                    </section>

                    <section id="god-department-view" class="god-panel" aria-labelledby="department-tabs">
                        <header class="panel-header">
                            <h2>Departamentos y operaciones</h2>
                            <p>Consulta indicadores clave y notas por cada √°rea.</p>
                        </header>
                        <div class="department-layout">
                            <nav id="department-tabs" class="department-tabs" aria-label="Departamentos"></nav>
                            <section id="department-panel" class="department-panel" aria-live="polite"></section>
                        </div>
                    </section>

                    <section id="user-management-panel" class="god-panel user-management" hidden aria-live="polite">
                        <header class="panel-header panel-header--with-actions">
                            <div>
                                <h2>Gesti√≥n de usuarios</h2>
                                <p>Revisa los perfiles existentes, crea nuevas cuentas y otorga permisos avanzados cuando lo necesites.</p>
                            </div>
                            <button id="toggle-create-user" type="button" class="primary-button">Nuevo usuario</button>
                        </header>

                        <form id="create-user-form" class="user-form" hidden novalidate>
                            <div class="user-form-grid">
                                <label class="form-field" for="user-username-input">
                                    <span>Usuario</span>
                                    <input id="user-username-input" name="username" type="text" autocomplete="off" required placeholder="ej. jmartinez">
                                </label>
                                <label class="form-field" for="user-name-input">
                                    <span>Nombre completo</span>
                                    <input id="user-name-input" name="name" type="text" autocomplete="name" required placeholder="Juan Mart√≠nez">
                                </label>
                                <label class="form-field" for="user-email-input">
                                    <span>Correo electr√≥nico</span>
                                    <input id="user-email-input" name="email" type="email" autocomplete="email" placeholder="usuario@fibaro.com">
                                </label>
                                <label class="form-field" for="user-role-select">
                                    <span>Rol</span>
                                    <select id="user-role-select" name="role" required>
                                        <option value="dios">Modo Dios</option>
                                        <option value="delegado" selected>Delegado</option>
                                        <option value="empleado">Empleado</option>
                                    </select>
                                </label>
                                <label class="form-field" for="user-password-input">
                                    <span>Contrase√±a</span>
                                    <input id="user-password-input" name="password" type="password" autocomplete="new-password" minlength="4" required>
                                </label>
                            </div>
                            <p id="user-management-feedback" class="feedback" role="status" aria-live="polite"></p>
                            <div class="user-form-actions">
                                <button id="cancel-create-user" type="button" class="ghost-button">Cancelar</button>
                                <button type="submit" class="primary-button">Crear usuario</button>
                            </div>
                        </form>

                        <div id="user-list" class="user-list" role="list"></div>
                    </section>
                </section>

                <section id="standard-dashboard" class="standard-dashboard" hidden>
                    <header class="panel-header">
                        <h2 id="role-title" class="role-title"></h2>
                        <p id="role-description" class="role-description"></p>
                    </header>
                    <section class="standard-modules">
                        <article class="standard-card">
                            <h3>Secciones destacadas</h3>
                            <ul id="role-menu" class="role-menu"></ul>
                        </article>
                        <article id="user-agenda-section" class="standard-card user-agenda" hidden aria-live="polite">
                            <h3>Mis anotaciones asignadas</h3>
                            <p id="user-agenda-empty" class="agenda-empty">No tienes anotaciones asignadas.</p>
                            <ul id="user-agenda-list" class="agenda-list" hidden></ul>
                        </article>
                    </section>
                </section>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>
